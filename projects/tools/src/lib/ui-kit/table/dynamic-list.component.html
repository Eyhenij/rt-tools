<rtui-table-container
    [loading]="loading()"
    [fetching]="fetching()"
    [isMobile]="isMobile()"
    [pageModel]="pageModel()"
    [isPlaceholderShown]="!entities()?.length"
    [isSelectorShown]="isSelectorShown()"
    [isMultiSelect]="isMultiSelect()"
    [isAllEntitiesSelected]="isAllEntitiesSelected()"
    [appearance]="appearance()"
    [searchTerm]="searchTerm()"
    (toggleAllEntities)="onToggleAllEntities($event)"
    (refreshAction)="onRefresh()"
    (pageModelChange)="onPageModelChange($event)"
    (searchChange)="onSearchChange($event)">
    @if (toolbarActionsTpl()) {
        <ng-container *rtuiTableToolbarActionsDirective>
            <ng-template *ngTemplateOutlet="toolbarActionsTpl() || null" />
        </ng-container>
    }

    <rtui-table
        [keyExp]="keyExp()"
        [isMobile]="isMobile()"
        [isSelectorShown]="isSelectorShown()"
        [isMultiSelect]="isMultiSelect()"
        [isTableRowsClickable]="isTableRowsClickable()"
        [entities]="entities()"
        [columns]="columns()"
        [selectedEntitiesKeys]="selectedEntitiesKeys()"
        [currentSortModel]="currentSortModel()"
        (toggleEntity)="onToggleEntity($event)"
        (toggleExistingEntities)="onToggleExistingEntities($event)"
        (rowClick)="onRowClick($event)"
        (sortChange)="onSortChange($event)">
        @if (rowActionsTpl()) {
            <ng-container *rtuiTabletRowActionsDirective="let row">
                <ng-template *ngTemplateOutlet="rowActionsTpl() || null; context: { $implicit: row }" />
            </ng-container>
        }
    </rtui-table>
</rtui-table-container>
