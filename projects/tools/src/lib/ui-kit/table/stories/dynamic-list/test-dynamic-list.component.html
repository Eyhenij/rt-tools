<rtui-dynamic-list
    [keyExp]="'id'"
    [isMobile]="isMobile"
    [columns]="columns"
    [entities]="data"
    [selectedEntitiesKeys]="selectedEntitiesKeys"
    [loading]="loading"
    [fetching]="fetching"
    [isRefreshButtonShown]="isRefreshButtonShown"
    [isSelectorsShown]="isSelectorsShown"
    [isSelectorsColumnDisabled]="isSelectorsColumnDisabled"
    [isMultiSelect]="isMultiSelect"
    [isAllEntitiesSelected]="isAllEntitiesSelected"
    [isTableRowsClickable]="isTableRowsClickable"
    [appearance]="'fill'"
    [searchTerm]="searchTerm"
    [pageModel]="pageModel"
    [currentSortModel]="currentSortModel"
    (toggleEntity)="onToggleEntity($event)"
    (toggleExistingEntities)="onToggleExistingEntities($event)"
    (toggleAllEntities)="onToggleAllEntities($event)"
    (sortChange)="onSortChange($event)"
    (pageModelChange)="onPageModelChange($event)"
    (rowDoubleClick)="onRowDoubleClick($event)"
    (rowClick)="onRowClick($event)">
    <ng-container *rtuiDynamicListToolbarSelectorsDirective>
        <rtui-toggle label="Example selector" [ngModel]="false" />
    </ng-container>

    <ng-container *rtuiDynamicListToolbarActionsDirective>
        <button
            mat-mini-fab
            type="button"
            aria-label="Icon-button for create customer action"
            class="c-button c-button--fab"
            matTooltip="Create Customer"
            matTooltipPosition="below"
            [matTooltipDisabled]="isMobile">
            <mat-icon [rtIconOutlinedDirective]="true">person</mat-icon>
        </button>

        <button
            mat-mini-fab
            type="button"
            aria-label="Icon-button for opening information dialog"
            class="c-button c-button--fab"
            matTooltip="Info"
            matTooltipPosition="below"
            [matTooltipDisabled]="isMobile">
            <mat-icon [rtIconOutlinedDirective]="true">info</mat-icon>
        </button>
    </ng-container>

    <ng-container *rtuiDynamicListCustomTableCellsDirective="{ button: buttonTemplate, image: imageTemplate }" />

    <ng-template #buttonTemplate let-row>
        <button
            mat-mini-fab
            type="button"
            aria-label="Icon-button"
            class="c-button c-button--fab"
            matTooltipPosition="below"
            [matTooltip]="row.button"
            [matTooltipDisabled]="isMobile">
            <mat-icon [rtIconOutlinedDirective]="true">{{ row.button }}</mat-icon>
        </button>
    </ng-template>

    <ng-template #imageTemplate let-row>
        <img alt="image" [src]="row.image" />
    </ng-template>

    <ng-container *rtuiDynamicListRowAdditionalActionsDirective="let row">
        <button
            rtBlock="c-table-actions__action"
            aria-label="Icon-button"
            mat-icon-button
            [disableRipple]="true"
            (click)="onInfo(row); $event.stopPropagation()">
            <mat-icon [rtIconOutlinedDirective]="true">info</mat-icon>
        </button>

        <button
            rtBlock="c-table-actions__action"
            aria-label="Icon-button"
            mat-icon-button
            [disableRipple]="true"
            (click)="onOpenNewTab(row); $event.stopPropagation()">
            <mat-icon [rtIconOutlinedDirective]="true">open_in_new</mat-icon>
        </button>
    </ng-container>

    <ng-container *rtuiDynamicListRowActionsDirective="let row">
        <button mat-menu-item (click)="onEdit(row)">
            <span>Edit</span>
        </button>

        <button mat-menu-item (click)="onDelete(row)">
            <span>Delete</span>
        </button>
    </ng-container>
</rtui-dynamic-list>
