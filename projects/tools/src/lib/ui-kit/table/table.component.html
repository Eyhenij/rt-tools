<rtui-table-container
    [loading]="loading()"
    [fetching]="fetching()"
    [isMobile]="isMobile()"
    [pageModel]="pageModel()"
    [isPlaceholderShown]="!entities()?.length"
    [appearance]="appearance()"
    [searchTerm]="searchTerm()"
    (refreshAction)="refresh()"
    (pageModelChange)="pageModelChange($event)"
    (searchChange)="searchChange($event)">
    <table rtBlock="c-table">
        <thead>
            <tr>
                @for (column of columns(); track column.propName) {
                    <th rtElem="cell" [style.width.%]="100 / columns().length" [style.pointer-events]="column?.sorting ? 'auto' : 'none'">
                        <rtui-table-header-cell
                            [headerModel]="column.header"
                            [currentSortPropertyName]="sortModel()?.propertyName"
                            [sortModel]="column?.sorting"
                            (sortChange)="sortChange($event)" />
                    </th>
                }
            </tr>
        </thead>

        <tbody>
            @for (row of entities(); track i; let i = $index) {
                <tr rtElem="row">
                    @for (column of columns(); track column.propName) {
                        <td rtElem="cell">
                            <rtui-table-base-cell [row]="row" [column]="column" [isMobile]="isMobile()" />
                        </td>
                    }
                </tr>
            }
        </tbody>
    </table>
</rtui-table-container>
